# Sprout Social Applicant Homework

## Environment Dependencies:

1. **Node v10.12.0**:
   - This project was set up using node v10.12.0. You should use the same version of node in order to avoid environment issues.
   - Node can be downloaded and installed from https://nodejs.org/en/
   - Different node versions can be installed and used on a machine via Node Version Manager (nvm)
     - Install nvm: https://github.com/creationix/nvm#install-script
     - Once installed, simply run `nvm use` while in the project. This will use the version of node specified in the `.nvmrc` file.
     - Additional download/installation of the node version may be required -- nvm will provide installation instructions if necessary.
2. **Yarn Package Manager**
   - Because create-react-app uses yarn to manage dependencies (instead of npm), new dependencies should be added using `yarn add`.
   - Installing Yarn: https://yarnpkg.com/lang/en/docs/install/
   - To install packages, use `yarn add package`. It's the equivalent of `npm install package` with npm.
   - To learn about other yarn commands, see https://yarnpkg.com/lang/en/docs/migrating-from-npm/#toc-cli-commands-comparison for more info.

## Getting Started

- To install dependencies run `yarn`
- To run the web app and api server together, run `npm run dev`
- To run the web app separately, run `npm run start`
  - This may take a minute or 2 to run
- To run api server separately, (in another terminal) run `npm run server`

## Twitter-Screenname-Server API

- Run the twitter-screenname-server by running `npm run server`
- The server should be running on `http://localhost:4000`
- Navigating to `http://localhost:4000/twitter/user/search?username=chicago` should return a large JSON response.
- To use the api, you can make a request directly to `http://localhost:4000`.
- If port 4000 is in use, feel free to update /twitter-screenname-server/server.js source code to use a different port.

## Create-React-App

- Create-react-app was used to set up the build process for this project. You do not need to read through the readme to work in this project.
- The README generated by create-react-app was moved to `README-create-react-app.md`.
- To keep the project simple and avoid any unexpected caching, the Service Worker was removed from the project.


## Requirements

-  ✅When typing a message, the typeahead will search for screen name suggestions after inserting or editing an @ followed by 2 alphanumeric characters (a-z, 0-9) 
     - ex: @a does nothing, but @ab will start suggestions screen names

-  ✅The typeahead should display suggestions for the appropriate mention when updating a message that contains multiple screen names
     - ex: “Composing a message for @Twitter from @SproutSocial”

- The user can update both @Twitter and @SproutSocial
Screen name suggestions should display in a list. When a user selects a suggested screen name, either by clicking or using a keyboard shortcut, it should replace the screen name in the typeahead.
     - ex: typing @sproutso then clicking on the suggested screen name @sproutsocial should replace the mention the user was typing with the suggested screen name

## Additional Features

Once you have the requirements for typeahead working, we'd like you to look at these additional considerations. Pick at least one that you feel most comfortable completing. Doing all of them is not required and you may do as many as you like. In your submission, please let us know which additional feature(s) you selected to implement.

- Prevent duplicate requests by caching responses from the twitter screen name lookup API
- Debounce the input so that unnecessary requests aren’t being made as the user types a mention
- Style your submission to match the screenshot provided, Twitter’s styles, or impress us with your own design. (Do not worry about styling the @mention inside of the textarea, though)
- Keyboard navigation
- Add a characters remaining counter
- Improve accessibility of the app with WAI-ARIA attributes
- Add unit tests


## Plan
### ✅1. Detect cursor, word, pattern
- ✅Use a textarea
- ✅Detect the cursor inside textarea
- ✅Isolate the word surrounding the cursor
- ✅Check for the pattern @xx
- ✅Update state in some way
- ✅Refactor that into a hook, renderprop, or HOC
- ✅Refactor the pattern search into separate util

### 2. Set up basic component structure
- ✅Shell components with basic unit tests

### 3. Make basic api request/response
- ✅ Get API functioning
- ✅ Get props passing along
- ✅ Basic unit test stubbing

### 4. Display Users in selectable List thingy
- ✅ display list
- ✅ make clickable items update TweetInput correctly
- ✅ tests for Selectable List

#### Components
- ```<Tweet>``` 
     - props: 
          - max chars
          - searchUrl
     - Container for overall tweet component
     - Makes API requests on the onDetect callback
     - Contains UI for Selectable List on API resp
     - OnSelect, render passing replaceString  
     - Handle Chars remaining (bonus)

- ```<TweetControls>```
     - layout UI for buttons and charsremaining

- ```TweetInput```
     - props: 
          - replaceString a word to replace
          - onChange - a callback on change
          - onDetect - callback to hit API
     - Contains the input field, capture change
     - Leverages the detection hook thingy
     - Callback onChange so parent always has compleet tweet  
     - Callback onDetect so parent can do Search

- ```<SelectableList thingy>```
     - props:
          - data - an array of objects
     - keyboard events should be fun

- ```<SelectableListItem>```
     - props: data 
     - list item components
     - style/layout for users, 
     - probably callback on click passing data


- **Additional stuff, priority**
     - 1. debounce
     ✅ 3. keyboard navigation in slectable list
     ✅ 2. chars remaining
     - 4. Make it perty

<img src="./twitter-screenshot.png" />